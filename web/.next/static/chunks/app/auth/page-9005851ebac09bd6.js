(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[235],{6382:function(e,a,t){Promise.resolve().then(t.bind(t,476))},476:function(e,a,t){"use strict";t.r(a),t.d(a,{default:function(){return g}});var s=t(7437),i=t(2265),r=t(9376),l=t(521),n=t(8614),c=t(515),o=t(1671),d=t(9388),m=t(9322),x=t(3245),u=t(2489);function p(e){let{variant:a,title:t,children:r,dismissible:l=!1,onDismiss:n}=e,[c,p]=(0,i.useState)(!0);if(!c)return null;let h={success:{icon:o.Z,className:"border-[var(--accent-success)]/30 bg-[var(--accent-success)]/10",iconColor:"text-[var(--accent-success)]",textColor:"text-[var(--accent-success)]"},error:{icon:d.Z,className:"border-[var(--accent-error)]/30 bg-[var(--accent-error)]/10",iconColor:"text-[var(--accent-error)]",textColor:"text-[var(--accent-error)]"},warning:{icon:m.Z,className:"border-[var(--accent-warning)]/30 bg-[var(--accent-warning)]/10",iconColor:"text-[var(--accent-warning)]",textColor:"text-[var(--accent-warning)]"},info:{icon:x.Z,className:"border-[var(--accent-info)]/30 bg-[var(--accent-info)]/10",iconColor:"text-[var(--accent-info)]",textColor:"text-[var(--accent-info)]"}}[a],v=h.icon;return(0,s.jsx)("div",{className:"glass-card p-4 animate-slide-in ".concat(h.className),role:"alert",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[(0,s.jsx)(v,{className:"h-5 w-5 flex-shrink-0 ".concat(h.iconColor)}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[t&&(0,s.jsx)("h4",{className:"text-sm font-semibold mb-1 ".concat(h.textColor),children:t}),(0,s.jsx)("div",{className:"text-sm text-[var(--text-secondary)]",children:r})]}),l&&(0,s.jsx)("button",{onClick:()=>{p(!1),null==n||n()},className:"flex-shrink-0 text-[var(--text-tertiary)] hover:text-[var(--text-primary)] transition-colors","aria-label":"Fermer",children:(0,s.jsx)(u.Z,{className:"h-4 w-4"})})]})})}var h=t(5900),v=t(8420),y=t(9345),j=t(6337),b=t(2023),N=t(6858);function g(){let e=(0,r.useRouter)(),{signup:a,login:t}=(0,c.a)(),[o,d]=(0,i.useState)("signup"),[m,x]=(0,i.useState)(!1),[u,g]=(0,i.useState)(null),[f,w]=(0,i.useState)(null),[C,_]=(0,i.useState)({org_name:"",email:"",password:""}),[Z,E]=(0,i.useState)({email:"",password:""}),S=async t=>{t.preventDefault(),g(null),w(null),x(!0);try{await a(C),w("Compte cr\xe9\xe9 avec succ\xe8s ! Redirection..."),setTimeout(()=>{e.push("/learn")},1e3)}catch(e){g((null==e?void 0:e.error)||"Une erreur est survenue lors de l'inscription")}finally{x(!1)}},k=async a=>{a.preventDefault(),g(null),w(null),x(!0);try{await t(Z),e.push("/learn")}catch(e){g((null==e?void 0:e.error)||"Identifiants invalides")}finally{x(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen flex items-center justify-center p-6 relative overflow-hidden",children:[(0,s.jsxs)("div",{className:"absolute inset-0 -z-10",children:[(0,s.jsx)("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-indigo-500/20 rounded-full blur-3xl animate-pulse"}),(0,s.jsx)("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsxs)(l.E.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.5,delay:.2},className:"inline-flex items-center justify-center mb-6 relative",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-500 to-cyan-500 rounded-3xl blur-2xl opacity-50"}),(0,s.jsx)("div",{className:"relative h-20 w-20 rounded-3xl bg-gradient-to-br from-indigo-500 to-cyan-500 flex items-center justify-center",children:(0,s.jsx)(h.Z,{className:"h-10 w-10 text-white",strokeWidth:2.5})})]}),(0,s.jsx)(l.E.h1,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.3},className:"text-4xl font-bold text-[var(--text-primary)] mb-2",children:"login"===o?"Bienvenue":"Cr\xe9er votre LMS"}),(0,s.jsx)(l.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"text-[var(--text-secondary)]",children:"login"===o?"Connectez-vous pour acc\xe9der \xe0 vos formations":"Lancez votre plateforme d'apprentissage en quelques secondes"})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"glass-card p-8",children:[(0,s.jsxs)(n.M,{mode:"wait",children:[u&&(0,s.jsx)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6",children:(0,s.jsx)(p,{variant:"error",dismissible:!0,onDismiss:()=>g(null),children:u})}),f&&(0,s.jsx)(l.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-6",children:(0,s.jsx)(p,{variant:"success",children:f})})]}),(0,s.jsx)(n.M,{mode:"wait",children:"signup"===o?(0,s.jsxs)(l.E.form,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},transition:{duration:.3},onSubmit:S,className:"space-y-5",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"org_name",className:"text-label",children:"Nom de l'organisation"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(v.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[var(--text-tertiary)]"}),(0,s.jsx)("input",{id:"org_name",type:"text",value:C.org_name,onChange:e=>_({...C,org_name:e.target.value}),className:"input pl-12",placeholder:"Mon organisation",required:!0,disabled:m})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"signup_email",className:"text-label",children:"Adresse email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(y.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[var(--text-tertiary)]"}),(0,s.jsx)("input",{id:"signup_email",type:"email",value:C.email,onChange:e=>_({...C,email:e.target.value}),className:"input pl-12",placeholder:"admin@exemple.com",required:!0,disabled:m,autoComplete:"email"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"signup_password",className:"text-label",children:"Mot de passe"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(j.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[var(--text-tertiary)]"}),(0,s.jsx)("input",{id:"signup_password",type:"password",value:C.password,onChange:e=>_({...C,password:e.target.value}),className:"input pl-12",placeholder:"••••••••",required:!0,disabled:m,autoComplete:"new-password",minLength:8})]}),(0,s.jsx)("p",{className:"text-xs text-[var(--text-tertiary)]",children:"Minimum 8 caract\xe8res"})]}),(0,s.jsx)("button",{type:"submit",disabled:m,className:"btn-primary w-full btn-lg group",children:m?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Cr\xe9ation..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.Z,{className:"h-5 w-5"}),(0,s.jsx)("span",{children:"Cr\xe9er mon LMS"}),(0,s.jsx)(N.Z,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]},"signup"):(0,s.jsxs)(l.E.form,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},onSubmit:k,className:"space-y-5",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"login_email",className:"text-label",children:"Adresse email"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(y.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[var(--text-tertiary)]"}),(0,s.jsx)("input",{id:"login_email",type:"email",value:Z.email,onChange:e=>E({...Z,email:e.target.value}),className:"input pl-12",placeholder:"vous@exemple.com",required:!0,disabled:m,autoComplete:"email"})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{htmlFor:"login_password",className:"text-label",children:"Mot de passe"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(j.Z,{className:"absolute left-4 top-1/2 -translate-y-1/2 h-5 w-5 text-[var(--text-tertiary)]"}),(0,s.jsx)("input",{id:"login_password",type:"password",value:Z.password,onChange:e=>E({...Z,password:e.target.value}),className:"input pl-12",placeholder:"••••••••",required:!0,disabled:m,autoComplete:"current-password"})]})]}),(0,s.jsx)("button",{type:"submit",disabled:m,className:"btn-primary w-full btn-lg group",children:m?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"h-4 w-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),(0,s.jsx)("span",{children:"Connexion..."})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{children:"Se connecter"}),(0,s.jsx)(N.Z,{className:"h-5 w-5 group-hover:translate-x-1 transition-transform"})]})})]},"login")}),(0,s.jsxs)("div",{className:"relative my-8",children:[(0,s.jsx)("div",{className:"divider"}),(0,s.jsx)("span",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 px-4 bg-[var(--bg-glass)] text-xs text-[var(--text-tertiary)] uppercase tracking-wide backdrop-blur-xl",children:"ou"})]}),(0,s.jsx)("button",{type:"button",onClick:()=>{d(e=>"login"===e?"signup":"login"),g(null),w(null)},className:"w-full btn-secondary",children:"login"===o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Cr\xe9er une nouvelle organisation"})]}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("span",{children:"J'ai d\xe9j\xe0 un compte"})})})]}),(0,s.jsxs)(l.E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.7},className:"mt-8 text-center space-y-4",children:["signup"===o&&(0,s.jsx)("div",{className:"glass-card p-4",children:(0,s.jsxs)("p",{className:"text-xs text-[var(--text-secondary)] leading-relaxed",children:[(0,s.jsx)("span",{className:"font-semibold text-[var(--text-primary)]",children:"Note :"})," En cr\xe9ant un compte, vous devenez"," ",(0,s.jsx)("span",{className:"text-gradient font-semibold",children:"administrateur"})," de votre propre instance LMS multi-tenant."]})}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-6 text-xs text-[var(--text-tertiary)]",children:[(0,s.jsx)("a",{href:"#",className:"hover:text-[var(--text-primary)] transition-colors",children:"Aide"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("a",{href:"#",className:"hover:text-[var(--text-primary)] transition-colors",children:"Confidentialit\xe9"}),(0,s.jsx)("span",{children:"•"}),(0,s.jsx)("a",{href:"#",className:"hover:text-[var(--text-primary)] transition-colors",children:"Conditions"})]})]})]})]})}}},function(e){e.O(0,[777,728,515,971,117,744],function(){return e(e.s=6382)}),_N_E=e.O()}]);